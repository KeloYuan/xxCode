# é¸¿è’™å¹³æ¿ç«¯ä»£ç ç¼–è¾‘å™¨è®¾è®¡æ–¹æ¡ˆ

## ğŸ“‹ è®¾è®¡æ¦‚è¿°

æœ¬è®¾è®¡æ–¹æ¡ˆéµå¾ª **HarmonyOS Design** è®¾è®¡è§„èŒƒï¼Œé’ˆå¯¹å¹³æ¿ç«¯è®¾å¤‡è®¾è®¡ä¸€ä¸ªç±»ä¼¼ VS Code æ“ä½œä½“éªŒçš„ä»£ç ç¼–è¾‘å™¨ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

- ğŸ“ å·¦ä¾§æ–‡ä»¶ç›®å½•æ ‘æµè§ˆ
- âœï¸ å³ä¾§ä»£ç ç¼–è¾‘åŒº
- ğŸ¨ è¯­æ³•é«˜äº®æ˜¾ç¤º
- ğŸ“‘ å¤šæ ‡ç­¾é¡µç®¡ç†

---

## ğŸ–¼ï¸ æ•´ä½“å¸ƒå±€è®¾è®¡

### å¸ƒå±€ç»“æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           é¡¶éƒ¨å·¥å…·æ  (56vp)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â˜°   â”‚  â”‚   é¡¹ç›®åç§°          â”‚                    â”‚ ä¸»é¢˜ | ä¿å­˜ | æ›´å¤š â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ–‡ä»¶ä¾§è¾¹æ       â”‚                 ç¼–è¾‘å™¨åŒºåŸŸ                            â”‚
â”‚   (240-320vp)    â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“ é¡¹ç›®åç§°  â”‚â”‚  â”‚ Tab1.ts  â”‚  Tab2.ts  â”‚  Tab3.ts  â”‚     +        â”‚ â”‚
â”‚  â”‚  â”œâ”€ğŸ“ src    â”‚â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â”‚  â”œâ”€ğŸ“„ a.tsâ”‚â”‚  â”‚ 1  â”‚ import { router } from '@kit.ArkUI';      â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ğŸ“„ b.tsâ”‚â”‚  â”‚ 2  â”‚                                            â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ğŸ“„ c.tsâ”‚â”‚  â”‚ 3  â”‚ @Entry                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ğŸ“ test   â”‚â”‚  â”‚ 4  â”‚ @Component                                 â”‚ â”‚
â”‚  â”‚  â””â”€ğŸ“„ main.tsâ”‚â”‚  â”‚ 5  â”‚ struct MyPage {                            â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 6  â”‚   @State count: number = 0                 â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 7  â”‚                                            â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 8  â”‚   build() {                                â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 9  â”‚     Column() {                             â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 10 â”‚       Text('Hello World')                  â”‚ â”‚
â”‚  â”‚              â”‚â”‚  â”‚ 11 â”‚         .fontSize(24)                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚ 12 â”‚     }                                      â”‚ â”‚
â”‚                  â”‚  â”‚ 13 â”‚   }                                        â”‚ â”‚
â”‚                  â”‚  â”‚ 14 â”‚ }                                          â”‚ â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                  â”‚  â”‚ è¡Œ 5, åˆ— 12  â”‚  ArkTS  â”‚  UTF-8  â”‚  LF         â”‚ â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å“åº”å¼æ–­ç‚¹è®¾è®¡

| æ–­ç‚¹ | å±å¹•å®½åº¦ | å¸ƒå±€ç­–ç•¥ |
|-----|---------|---------|
| **md** | 600-840vp | å¯æŠ˜å ä¾§è¾¹æ ï¼ˆ200vpï¼‰ï¼Œç¼–è¾‘å™¨è‡ªé€‚åº” |
| **lg** | â‰¥840vp | å›ºå®šä¾§è¾¹æ ï¼ˆ280vpï¼‰ï¼Œç¼–è¾‘å™¨è‡ªé€‚åº” |
| **xl** | â‰¥1200vp | å®½ä¾§è¾¹æ ï¼ˆ320vpï¼‰ï¼Œå¯åŒç¼–è¾‘å™¨åˆ†å± |

---

## ğŸ“ ç»„ä»¶æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶ç»“æ„

```
TabletCodeEditor (ä¸»é¡µé¢)
â”œâ”€â”€ TopToolbar (é¡¶éƒ¨å·¥å…·æ )
â”‚   â”œâ”€â”€ MenuButton (èœå•æŒ‰é’®)
â”‚   â”œâ”€â”€ ProjectTitle (é¡¹ç›®åç§°)
â”‚   â””â”€â”€ ActionButtons (æ“ä½œæŒ‰é’®ç»„)
â”‚
â”œâ”€â”€ MainContent (ä¸»å†…å®¹åŒº - Rowå¸ƒå±€)
â”‚   â”œâ”€â”€ FileSidebar (æ–‡ä»¶ä¾§è¾¹æ )
â”‚   â”‚   â”œâ”€â”€ SidebarHeader (ä¾§è¾¹æ å¤´éƒ¨)
â”‚   â”‚   â”œâ”€â”€ FileTree (æ–‡ä»¶æ ‘)
â”‚   â”‚   â”‚   â””â”€â”€ FileTreeNode (æ–‡ä»¶æ ‘èŠ‚ç‚¹ - é€’å½’)
â”‚   â”‚   â””â”€â”€ SidebarFooter (ä¾§è¾¹æ åº•éƒ¨)
â”‚   â”‚
â”‚   â”œâ”€â”€ Divider (å¯æ‹–æ‹½åˆ†å‰²çº¿)
â”‚   â”‚
â”‚   â””â”€â”€ EditorPanel (ç¼–è¾‘å™¨é¢æ¿)
â”‚       â”œâ”€â”€ TabBar (æ ‡ç­¾æ )
â”‚       â”‚   â””â”€â”€ EditorTab (ç¼–è¾‘å™¨æ ‡ç­¾)
â”‚       â”œâ”€â”€ CodeEditor (ä»£ç ç¼–è¾‘åŒº)
â”‚       â”‚   â”œâ”€â”€ LineNumbers (è¡Œå·æ )
â”‚       â”‚   â””â”€â”€ CodeContent (ä»£ç å†…å®¹åŒº)
â”‚       â”‚       â””â”€â”€ HighlightedLine (é«˜äº®è¡Œ)
â”‚       â””â”€â”€ StatusBar (çŠ¶æ€æ )
â”‚
â””â”€â”€ ContextMenu (å³é”®ä¸Šä¸‹æ–‡èœå• - å¼¹å‡ºå±‚)
```

---

## ğŸ¨ è§†è§‰è§„èŒƒ

### é¢œè‰²ç³»ç»Ÿ

```typescript
// æµ…è‰²ä¸»é¢˜
const LightTheme = {
  // ä¸»è‰²è°ƒ
  primary: '#0A59F7',           // é¸¿è’™è“
  primaryLight: '#3D7BFF',
  
  // èƒŒæ™¯è‰²
  background: '#F1F3F5',        // é¡µé¢èƒŒæ™¯
  surface: '#FFFFFF',           // å¡ç‰‡/é¢æ¿èƒŒæ™¯
  sidebarBg: '#FAFAFA',         // ä¾§è¾¹æ èƒŒæ™¯
  
  // æ–‡å­—é¢œè‰²
  textPrimary: '#182431',       // ä¸»æ–‡å­—
  textSecondary: '#99A0A8',     // æ¬¡è¦æ–‡å­—
  textDisabled: '#C4C9CF',      // ç¦ç”¨æ–‡å­—
  
  // è¾¹æ¡†å’Œåˆ†å‰²çº¿
  border: '#E5E8EB',
  divider: '#F0F0F0',
  
  // äº¤äº’çŠ¶æ€
  hover: 'rgba(0, 0, 0, 0.04)',
  active: 'rgba(10, 89, 247, 0.1)',
  
  // ç¼–è¾‘å™¨
  editorBg: '#FFFFFF',
  lineNumberBg: '#FAFAFA',
  lineNumber: '#B0B8C1',
  currentLineBg: 'rgba(10, 89, 247, 0.06)',
  selection: 'rgba(10, 89, 247, 0.2)',
}

// æ·±è‰²ä¸»é¢˜
const DarkTheme = {
  primary: '#3D7BFF',
  primaryLight: '#5B93FF',
  
  background: '#1A1A1A',
  surface: '#262626',
  sidebarBg: '#1E1E1E',
  
  textPrimary: '#E8E8E8',
  textSecondary: '#8A8A8A',
  textDisabled: '#5A5A5A',
  
  border: '#3D3D3D',
  divider: '#333333',
  
  hover: 'rgba(255, 255, 255, 0.06)',
  active: 'rgba(61, 123, 255, 0.2)',
  
  editorBg: '#1E1E1E',
  lineNumberBg: '#1A1A1A',
  lineNumber: '#6E7681',
  currentLineBg: 'rgba(61, 123, 255, 0.1)',
  selection: 'rgba(61, 123, 255, 0.3)',
}
```

### è¯­æ³•é«˜äº®é¢œè‰²

```typescript
// ä»£ç é«˜äº®é…è‰²ï¼ˆåŸºäº VS Code é»˜è®¤ä¸»é¢˜ï¼‰
const SyntaxColors = {
  // æµ…è‰²ä¸»é¢˜
  light: {
    keyword: '#0000FF',       // å…³é”®å­—ï¼šè“è‰²
    string: '#A31515',        // å­—ç¬¦ä¸²ï¼šçº¢è¤è‰²
    number: '#098658',        // æ•°å­—ï¼šç»¿è‰²
    comment: '#008000',       // æ³¨é‡Šï¼šç»¿è‰²
    function: '#795E26',      // å‡½æ•°åï¼šæ£•è‰²
    class: '#267F99',         // ç±»åï¼šé’è‰²
    variable: '#001080',      // å˜é‡ï¼šæ·±è“è‰²
    property: '#001080',      // å±æ€§ï¼šæ·±è“è‰²
    operator: '#000000',      // æ“ä½œç¬¦ï¼šé»‘è‰²
    decorator: '#795E26',     // è£…é¥°å™¨ï¼šæ£•è‰²
    type: '#267F99',          // ç±»å‹ï¼šé’è‰²
    punctuation: '#000000',   // æ ‡ç‚¹ï¼šé»‘è‰²
  },
  
  // æ·±è‰²ä¸»é¢˜
  dark: {
    keyword: '#569CD6',       // å…³é”®å­—ï¼šè“è‰²
    string: '#CE9178',        // å­—ç¬¦ä¸²ï¼šæ©™è‰²
    number: '#B5CEA8',        // æ•°å­—ï¼šæµ…ç»¿è‰²
    comment: '#6A9955',       // æ³¨é‡Šï¼šç»¿è‰²
    function: '#DCDCAA',      // å‡½æ•°åï¼šé»„è‰²
    class: '#4EC9B0',         // ç±»åï¼šé’è‰²
    variable: '#9CDCFE',      // å˜é‡ï¼šæµ…è“è‰²
    property: '#9CDCFE',      // å±æ€§ï¼šæµ…è“è‰²
    operator: '#D4D4D4',      // æ“ä½œç¬¦ï¼šç°ç™½è‰²
    decorator: '#DCDCAA',     // è£…é¥°å™¨ï¼šé»„è‰²
    type: '#4EC9B0',          // ç±»å‹ï¼šé’è‰²
    punctuation: '#D4D4D4',   // æ ‡ç‚¹ï¼šç°ç™½è‰²
  }
}
```

### å°ºå¯¸è§„èŒƒ

```typescript
const Dimensions = {
  // å·¥å…·æ 
  toolbarHeight: 56,          // vp
  
  // ä¾§è¾¹æ 
  sidebarMinWidth: 200,       // vp
  sidebarDefaultWidth: 280,   // vp
  sidebarMaxWidth: 400,       // vp
  
  // æ ‡ç­¾æ 
  tabBarHeight: 40,           // vp
  tabMinWidth: 80,            // vp
  tabMaxWidth: 200,           // vp
  
  // ç¼–è¾‘å™¨
  lineNumberWidth: 50,        // vp
  editorPaddingH: 16,         // vp
  editorPaddingV: 8,          // vp
  
  // çŠ¶æ€æ 
  statusBarHeight: 28,        // vp
  
  // é—´è·
  spacing: {
    xs: 4,
    sm: 8,
    md: 12,
    lg: 16,
    xl: 24,
  },
  
  // åœ†è§’
  radius: {
    sm: 4,
    md: 8,
    lg: 12,
    xl: 16,
  }
}
```

---

## ğŸ§© æ ¸å¿ƒæ•°æ®æ¨¡å‹

### æ–‡ä»¶æ¨¡å‹

```typescript
// æ–‡ä»¶èŠ‚ç‚¹
interface FileNode {
  id: string;                    // å”¯ä¸€æ ‡è¯†
  name: string;                  // æ–‡ä»¶å
  path: string;                  // å®Œæ•´è·¯å¾„
  type: 'file' | 'folder';       // ç±»å‹
  extension?: string;            // æ–‡ä»¶æ‰©å±•å
  children?: FileNode[];         // å­èŠ‚ç‚¹ï¼ˆä»…æ–‡ä»¶å¤¹ï¼‰
  size?: number;                 // æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  modifiedTime?: number;         // ä¿®æ”¹æ—¶é—´æˆ³
  isExpanded?: boolean;          // æ˜¯å¦å±•å¼€ï¼ˆä»…æ–‡ä»¶å¤¹ï¼‰
}

// ç¼–è¾‘å™¨æ ‡ç­¾
interface EditorTab {
  id: string;                    // å”¯ä¸€æ ‡è¯†
  fileId: string;                // å…³è”çš„æ–‡ä»¶ID
  fileName: string;              // æ–‡ä»¶å
  filePath: string;              // æ–‡ä»¶è·¯å¾„
  content: string;               // æ–‡ä»¶å†…å®¹
  language: string;              // ç¼–ç¨‹è¯­è¨€
  isDirty: boolean;              // æ˜¯å¦æœ‰æœªä¿å­˜çš„ä¿®æ”¹
  cursorPosition: CursorPosition; // å…‰æ ‡ä½ç½®
  scrollPosition: number;        // æ»šåŠ¨ä½ç½®
}

// å…‰æ ‡ä½ç½®
interface CursorPosition {
  line: number;                  // è¡Œå·ï¼ˆä»1å¼€å§‹ï¼‰
  column: number;                // åˆ—å·ï¼ˆä»1å¼€å§‹ï¼‰
}

// è¯­æ³•é«˜äº®Token
interface SyntaxToken {
  type: TokenType;               // Tokenç±»å‹
  value: string;                 // æ–‡æœ¬å€¼
  start: number;                 // èµ·å§‹ä½ç½®
  end: number;                   // ç»“æŸä½ç½®
  line: number;                  // æ‰€åœ¨è¡Œ
}

type TokenType = 
  | 'keyword' | 'string' | 'number' | 'comment'
  | 'function' | 'class' | 'variable' | 'property'
  | 'operator' | 'decorator' | 'type' | 'punctuation'
  | 'plain';
```

### ç¼–è¾‘å™¨çŠ¶æ€

```typescript
// ç¼–è¾‘å™¨å…¨å±€çŠ¶æ€
interface EditorState {
  // æ–‡ä»¶ç³»ç»Ÿ
  rootFolder: FileNode | null;
  selectedFile: FileNode | null;
  expandedFolders: Set<string>;
  
  // æ ‡ç­¾ç®¡ç†
  openTabs: EditorTab[];
  activeTabId: string | null;
  
  // ç¼–è¾‘å™¨è®¾ç½®
  theme: 'light' | 'dark';
  fontSize: number;
  tabSize: number;
  wordWrap: boolean;
  lineNumbers: boolean;
  
  // UIçŠ¶æ€
  sidebarVisible: boolean;
  sidebarWidth: number;
}
```

---

## ğŸ“¦ ç»„ä»¶è¯¦ç»†è®¾è®¡

### 1. é¡¶éƒ¨å·¥å…·æ  (TopToolbar)

```typescript
@Component
struct TopToolbar {
  @Prop projectName: string = 'æœªå‘½åé¡¹ç›®'
  @Prop theme: 'light' | 'dark' = 'light'
  
  // å›è°ƒäº‹ä»¶
  onMenuClick: () => void = () => {}
  onSaveClick: () => void = () => {}
  onThemeToggle: () => void = () => {}
  onSettingsClick: () => void = () => {}
  
  build() {
    Row() {
      // å·¦ä¾§ï¼šèœå•æŒ‰é’® + é¡¹ç›®å
      Row({ space: 12 }) {
        // èœå•æŒ‰é’®ï¼ˆæ§åˆ¶ä¾§è¾¹æ æ˜¾éšï¼‰
        Button() {
          Image($r('app.media.ic_menu'))
            .width(24)
            .height(24)
            .fillColor($r('app.color.text_primary'))
        }
        .type(ButtonType.Circle)
        .width(40)
        .height(40)
        .backgroundColor(Color.Transparent)
        .onClick(() => this.onMenuClick())
        
        // é¡¹ç›®åç§°
        Text(this.projectName)
          .fontSize(18)
          .fontWeight(FontWeight.Medium)
          .fontColor($r('app.color.text_primary'))
      }
      
      Blank()  // å¼¹æ€§ç©ºé—´
      
      // å³ä¾§ï¼šæ“ä½œæŒ‰é’®ç»„
      Row({ space: 8 }) {
        // ä¸»é¢˜åˆ‡æ¢
        IconButton({
          icon: this.theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸',
          onClick: () => this.onThemeToggle()
        })
        
        // ä¿å­˜æŒ‰é’®
        IconButton({
          icon: $r('app.media.ic_save'),
          onClick: () => this.onSaveClick()
        })
        
        // æ›´å¤šè®¾ç½®
        IconButton({
          icon: $r('app.media.ic_more'),
          onClick: () => this.onSettingsClick()
        })
      }
    }
    .width('100%')
    .height(56)
    .padding({ left: 16, right: 16 })
    .backgroundColor($r('app.color.surface'))
    .shadow({
      radius: 2,
      color: 'rgba(0, 0, 0, 0.05)',
      offsetY: 1
    })
  }
}
```

### 2. æ–‡ä»¶ä¾§è¾¹æ  (FileSidebar)

```typescript
@Component
struct FileSidebar {
  @Link rootFolder: FileNode | null
  @Link expandedFolders: Set<string>
  @Link selectedFile: FileNode | null
  
  onFileSelect: (file: FileNode) => void = () => {}
  onFolderToggle: (folder: FileNode) => void = () => {}
  onRefresh: () => void = () => {}
  onNewFile: () => void = () => {}
  onNewFolder: () => void = () => {}
  
  build() {
    Column() {
      // ä¾§è¾¹æ å¤´éƒ¨
      Row() {
        Text('èµ„æºç®¡ç†å™¨')
          .fontSize(14)
          .fontWeight(FontWeight.Medium)
          .fontColor($r('app.color.text_primary'))
        
        Blank()
        
        Row({ space: 4 }) {
          // æ–°å»ºæ–‡ä»¶
          SmallIconButton({ icon: 'ğŸ“„', onClick: () => this.onNewFile() })
          // æ–°å»ºæ–‡ä»¶å¤¹  
          SmallIconButton({ icon: 'ğŸ“', onClick: () => this.onNewFolder() })
          // åˆ·æ–°
          SmallIconButton({ icon: 'ğŸ”„', onClick: () => this.onRefresh() })
        }
      }
      .width('100%')
      .height(40)
      .padding({ left: 12, right: 8 })
      .backgroundColor($r('app.color.sidebar_header'))
      
      // æ–‡ä»¶æ ‘
      if (this.rootFolder) {
        Scroll() {
          Column() {
            this.buildFileTree(this.rootFolder, 0)
          }
          .width('100%')
          .alignItems(HorizontalAlign.Start)
        }
        .layoutWeight(1)
        .scrollBar(BarState.Auto)
        .edgeEffect(EdgeEffect.Spring)
      } else {
        // ç©ºçŠ¶æ€
        Column() {
          Text('ğŸ“‚')
            .fontSize(48)
            .margin({ bottom: 16 })
          Text('æš‚æ— æ‰“å¼€çš„é¡¹ç›®')
            .fontSize(14)
            .fontColor($r('app.color.text_secondary'))
          Button('æ‰“å¼€æ–‡ä»¶å¤¹')
            .type(ButtonType.Capsule)
            .margin({ top: 16 })
        }
        .layoutWeight(1)
        .justifyContent(FlexAlign.Center)
        .width('100%')
      }
    }
    .width('100%')
    .height('100%')
    .backgroundColor($r('app.color.sidebar_bg'))
  }
  
  @Builder
  buildFileTree(node: FileNode, level: number): void {
    FileTreeNode({
      node: node,
      level: level,
      isExpanded: this.expandedFolders.has(node.id),
      isSelected: this.selectedFile?.id === node.id,
      onSelect: (file) => this.onFileSelect(file),
      onToggle: (folder) => this.onFolderToggle(folder)
    })
    
    // é€’å½’æ¸²æŸ“å­èŠ‚ç‚¹
    if (node.type === 'folder' && node.children && this.expandedFolders.has(node.id)) {
      ForEach(node.children, (child: FileNode) => {
        this.buildFileTree(child, level + 1)
      })
    }
  }
}
```

### 3. æ–‡ä»¶æ ‘èŠ‚ç‚¹ (FileTreeNode)

```typescript
@Component
struct FileTreeNode {
  @Prop node: FileNode
  @Prop level: number = 0
  @Prop isExpanded: boolean = false
  @Prop isSelected: boolean = false
  
  onSelect: (file: FileNode) => void = () => {}
  onToggle: (folder: FileNode) => void = () => {}
  
  build() {
    Row() {
      // ç¼©è¿›
      Blank().width(this.level * 16 + 8)
      
      // å±•å¼€/æŠ˜å ç®­å¤´ï¼ˆä»…æ–‡ä»¶å¤¹ï¼‰
      if (this.node.type === 'folder') {
        Text('â–¶')
          .fontSize(10)
          .fontColor($r('app.color.text_secondary'))
          .width(16)
          .rotate({ angle: this.isExpanded ? 90 : 0 })
          .animation({ duration: 150, curve: Curve.EaseOut })
      } else {
        Blank().width(16)
      }
      
      // æ–‡ä»¶/æ–‡ä»¶å¤¹å›¾æ ‡
      Text(this.getFileIcon())
        .fontSize(16)
        .margin({ left: 4, right: 8 })
      
      // æ–‡ä»¶å
      Text(this.node.name)
        .fontSize(13)
        .fontColor(this.isSelected 
          ? $r('app.color.primary') 
          : $r('app.color.text_primary'))
        .fontWeight(this.isSelected ? FontWeight.Medium : FontWeight.Normal)
        .maxLines(1)
        .textOverflow({ overflow: TextOverflow.Ellipsis })
        .layoutWeight(1)
    }
    .width('100%')
    .height(32)
    .padding({ right: 8 })
    .backgroundColor(this.isSelected 
      ? $r('app.color.active_bg') 
      : Color.Transparent)
    .borderRadius(4)
    .onClick(() => {
      if (this.node.type === 'folder') {
        this.onToggle(this.node)
      } else {
        this.onSelect(this.node)
      }
    })
    .gesture(
      LongPressGesture()
        .onAction(() => {
          // æ˜¾ç¤ºå³é”®èœå•
          this.showContextMenu()
        })
    )
  }
  
  private getFileIcon(): string {
    if (this.node.type === 'folder') {
      return this.isExpanded ? 'ğŸ“‚' : 'ğŸ“'
    }
    // æ ¹æ®æ‰©å±•åè¿”å›å›¾æ ‡
    const ext = this.node.extension?.toLowerCase()
    const iconMap: Record<string, string> = {
      'ts': 'ğŸ”·',
      'ets': 'ğŸ”¶',
      'js': 'ğŸŸ¨',
      'json': 'ğŸ“‹',
      'md': 'ğŸ“',
      'html': 'ğŸŒ',
      'css': 'ğŸ¨',
      'py': 'ğŸ',
      'java': 'â˜•',
    }
    return iconMap[ext || ''] || 'ğŸ“„'
  }
  
  private showContextMenu(): void {
    // å®ç°å³é”®èœå•é€»è¾‘
  }
}
```

### 4. æ ‡ç­¾æ  (TabBar)

```typescript
@Component
struct TabBar {
  @Link tabs: EditorTab[]
  @Link activeTabId: string | null
  
  onTabSelect: (tabId: string) => void = () => {}
  onTabClose: (tabId: string) => void = () => {}
  onNewTab: () => void = () => {}
  
  build() {
    Row() {
      // å¯æ»šåŠ¨çš„æ ‡ç­¾åŒºåŸŸ
      Scroll() {
        Row({ space: 2 }) {
          ForEach(this.tabs, (tab: EditorTab) => {
            EditorTabItem({
              tab: tab,
              isActive: tab.id === this.activeTabId,
              onSelect: () => this.onTabSelect(tab.id),
              onClose: () => this.onTabClose(tab.id)
            })
          })
        }
        .padding({ left: 8, right: 8 })
      }
      .scrollable(ScrollDirection.Horizontal)
      .scrollBar(BarState.Off)
      .layoutWeight(1)
      
      // æ–°å»ºæ ‡ç­¾æŒ‰é’®
      Button() {
        Text('+')
          .fontSize(18)
          .fontColor($r('app.color.text_secondary'))
      }
      .type(ButtonType.Circle)
      .width(28)
      .height(28)
      .backgroundColor(Color.Transparent)
      .margin({ right: 8 })
      .onClick(() => this.onNewTab())
    }
    .width('100%')
    .height(40)
    .backgroundColor($r('app.color.surface'))
    .border({
      width: { bottom: 1 },
      color: $r('app.color.border')
    })
  }
}

@Component
struct EditorTabItem {
  @Prop tab: EditorTab
  @Prop isActive: boolean = false
  
  onSelect: () => void = () => {}
  onClose: () => void = () => {}
  
  build() {
    Row({ space: 8 }) {
      // æ–‡ä»¶å›¾æ ‡
      Text(this.getLanguageIcon())
        .fontSize(14)
      
      // æ–‡ä»¶å
      Text(this.tab.fileName)
        .fontSize(13)
        .fontColor(this.isActive 
          ? $r('app.color.primary') 
          : $r('app.color.text_primary'))
        .maxLines(1)
      
      // ä¿®æ”¹æŒ‡ç¤ºå™¨æˆ–å…³é—­æŒ‰é’®
      if (this.tab.isDirty) {
        Circle()
          .width(8)
          .height(8)
          .fill($r('app.color.primary'))
      } else {
        Text('Ã—')
          .fontSize(16)
          .fontColor($r('app.color.text_secondary'))
          .onClick((e: ClickEvent) => {
            e.stopPropagation()
            this.onClose()
          })
      }
    }
    .height(32)
    .padding({ left: 12, right: 8 })
    .backgroundColor(this.isActive 
      ? $r('app.color.editor_bg') 
      : Color.Transparent)
    .borderRadius({ topLeft: 6, topRight: 6 })
    .border({
      width: { bottom: this.isActive ? 2 : 0 },
      color: $r('app.color.primary')
    })
    .onClick(() => this.onSelect())
  }
  
  private getLanguageIcon(): string {
    const iconMap: Record<string, string> = {
      'typescript': 'ğŸ”·',
      'arkts': 'ğŸ”¶',
      'javascript': 'ğŸŸ¨',
      'json': 'ğŸ“‹',
      'markdown': 'ğŸ“',
    }
    return iconMap[this.tab.language] || 'ğŸ“„'
  }
}
```

### 5. ä»£ç ç¼–è¾‘åŒº (CodeEditor)

```typescript
@Component
struct CodeEditorView {
  @Link content: string
  @Prop language: string = 'typescript'
  @Prop fontSize: number = 14
  @Prop lineNumbers: boolean = true
  @Prop @Watch('onContentChange') isEditable: boolean = true
  
  @State lines: string[] = []
  @State tokens: SyntaxToken[][] = []  // æ¯è¡Œçš„tokenæ•°ç»„
  @State currentLine: number = 1
  @State currentColumn: number = 1
  @State scrollY: number = 0
  
  private syntaxHighlighter: SyntaxHighlighter = new SyntaxHighlighter()
  
  aboutToAppear() {
    this.parseContent()
  }
  
  private parseContent(): void {
    this.lines = this.content.split('\n')
    this.tokens = this.lines.map(line => 
      this.syntaxHighlighter.tokenize(line, this.language)
    )
  }
  
  onContentChange(): void {
    this.parseContent()
  }
  
  build() {
    Column() {
      // ç¼–è¾‘åŒºåŸŸ
      Scroll() {
        Row() {
          // è¡Œå·æ 
          if (this.lineNumbers) {
            Column() {
              ForEach(this.lines, (_: string, index: number) => {
                Text(`${index + 1}`)
                  .fontSize(this.fontSize)
                  .fontFamily('monospace')
                  .fontColor($r('app.color.line_number'))
                  .textAlign(TextAlign.End)
                  .width('100%')
                  .height(this.fontSize * 1.6)
                  .backgroundColor(index + 1 === this.currentLine 
                    ? $r('app.color.current_line_bg') 
                    : Color.Transparent)
              })
            }
            .width(50)
            .padding({ right: 12 })
            .backgroundColor($r('app.color.line_number_bg'))
            .alignItems(HorizontalAlign.End)
          }
          
          // ä»£ç å†…å®¹åŒº
          Column() {
            ForEach(this.lines, (line: string, lineIndex: number) => {
              Row() {
                // ä½¿ç”¨ Span å®ç°è¯­æ³•é«˜äº®
                Text() {
                  ForEach(this.tokens[lineIndex] || [], (token: SyntaxToken) => {
                    Span(token.value)
                      .fontColor(this.getTokenColor(token.type))
                  })
                  // ç¡®ä¿ç©ºè¡Œä¹Ÿæœ‰é«˜åº¦
                  if (line.length === 0) {
                    Span(' ')
                  }
                }
                .fontSize(this.fontSize)
                .fontFamily('monospace')
                .width('100%')
              }
              .width('100%')
              .height(this.fontSize * 1.6)
              .backgroundColor(lineIndex + 1 === this.currentLine 
                ? $r('app.color.current_line_bg') 
                : Color.Transparent)
            })
          }
          .layoutWeight(1)
          .padding({ left: 16, right: 16 })
          .alignItems(HorizontalAlign.Start)
        }
        .alignItems(VerticalAlign.Top)
      }
      .scrollable(ScrollDirection.Vertical)
      .scrollBar(BarState.Auto)
      .layoutWeight(1)
      .width('100%')
      .backgroundColor($r('app.color.editor_bg'))
      .onScroll((xOffset: number, yOffset: number) => {
        this.scrollY = yOffset
      })
    }
    .width('100%')
    .height('100%')
  }
  
  private getTokenColor(type: TokenType): ResourceColor {
    const colorMap: Record<TokenType, string> = {
      'keyword': '#569CD6',
      'string': '#CE9178',
      'number': '#B5CEA8',
      'comment': '#6A9955',
      'function': '#DCDCAA',
      'class': '#4EC9B0',
      'variable': '#9CDCFE',
      'property': '#9CDCFE',
      'operator': '#D4D4D4',
      'decorator': '#DCDCAA',
      'type': '#4EC9B0',
      'punctuation': '#D4D4D4',
      'plain': '#D4D4D4',
    }
    return colorMap[type] || '#D4D4D4'
  }
}
```

### 6. çŠ¶æ€æ  (StatusBar)

```typescript
@Component
struct StatusBar {
  @Prop line: number = 1
  @Prop column: number = 1
  @Prop language: string = 'Plain Text'
  @Prop encoding: string = 'UTF-8'
  @Prop lineEnding: string = 'LF'
  @Prop isDirty: boolean = false
  
  build() {
    Row() {
      // å·¦ä¾§ä¿¡æ¯
      Row({ space: 16 }) {
        // å…‰æ ‡ä½ç½®
        Text(`è¡Œ ${this.line}, åˆ— ${this.column}`)
          .fontSize(12)
          .fontColor($r('app.color.text_secondary'))
        
        // ç¼–ç¨‹è¯­è¨€
        Text(this.getLanguageLabel())
          .fontSize(12)
          .fontColor($r('app.color.text_secondary'))
          .padding({ left: 8, right: 8, top: 2, bottom: 2 })
          .backgroundColor($r('app.color.hover_bg'))
          .borderRadius(4)
      }
      
      Blank()
      
      // å³ä¾§ä¿¡æ¯
      Row({ space: 16 }) {
        // ç¼–ç 
        Text(this.encoding)
          .fontSize(12)
          .fontColor($r('app.color.text_secondary'))
        
        // æ¢è¡Œç¬¦
        Text(this.lineEnding)
          .fontSize(12)
          .fontColor($r('app.color.text_secondary'))
        
        // ä¿å­˜çŠ¶æ€
        if (this.isDirty) {
          Row({ space: 4 }) {
            Circle()
              .width(6)
              .height(6)
              .fill($r('app.color.warning'))
            Text('æœªä¿å­˜')
              .fontSize(12)
              .fontColor($r('app.color.warning'))
          }
        }
      }
    }
    .width('100%')
    .height(28)
    .padding({ left: 16, right: 16 })
    .backgroundColor($r('app.color.surface'))
    .border({
      width: { top: 1 },
      color: $r('app.color.border')
    })
  }
  
  private getLanguageLabel(): string {
    const labelMap: Record<string, string> = {
      'typescript': 'TypeScript',
      'arkts': 'ArkTS',
      'javascript': 'JavaScript',
      'json': 'JSON',
      'markdown': 'Markdown',
      'html': 'HTML',
      'css': 'CSS',
      'python': 'Python',
    }
    return labelMap[this.language.toLowerCase()] || this.language
  }
}
```

---

## ğŸ”§ æ ¸å¿ƒæœåŠ¡è®¾è®¡

### 1. è¯­æ³•é«˜äº®æœåŠ¡

```typescript
// services/SyntaxHighlightService.ts

export interface SyntaxToken {
  type: TokenType
  value: string
  start: number
  end: number
}

export type TokenType = 
  | 'keyword' | 'string' | 'number' | 'comment'
  | 'function' | 'class' | 'variable' | 'property'
  | 'operator' | 'decorator' | 'type' | 'punctuation'
  | 'plain'

export class SyntaxHighlighter {
  // ArkTS/TypeScript å…³é”®å­—
  private static readonly KEYWORDS = new Set([
    'import', 'export', 'from', 'as', 'default',
    'class', 'interface', 'type', 'enum', 'extends', 'implements',
    'function', 'const', 'let', 'var', 'return', 'yield',
    'if', 'else', 'switch', 'case', 'break', 'continue',
    'for', 'while', 'do', 'in', 'of',
    'try', 'catch', 'finally', 'throw',
    'new', 'this', 'super', 'static', 'public', 'private', 'protected',
    'async', 'await', 'void', 'null', 'undefined', 'true', 'false',
    'struct', 'build', 'State', 'Prop', 'Link', 'Watch',
    'Entry', 'Component', 'Builder', 'Styles'
  ])
  
  /**
   * å°†ä»£ç è¡Œåˆ†è§£ä¸ºè¯­æ³•token
   */
  tokenize(line: string, language: string): SyntaxToken[] {
    const tokens: SyntaxToken[] = []
    let pos = 0
    
    while (pos < line.length) {
      const remaining = line.slice(pos)
      let matched = false
      
      // è·³è¿‡ç©ºç™½
      const wsMatch = remaining.match(/^(\s+)/)
      if (wsMatch) {
        tokens.push({
          type: 'plain',
          value: wsMatch[1],
          start: pos,
          end: pos + wsMatch[1].length
        })
        pos += wsMatch[1].length
        continue
      }
      
      // å•è¡Œæ³¨é‡Š
      if (remaining.startsWith('//')) {
        tokens.push({
          type: 'comment',
          value: remaining,
          start: pos,
          end: line.length
        })
        break
      }
      
      // å­—ç¬¦ä¸²ï¼ˆåŒå¼•å·ï¼‰
      const dqMatch = remaining.match(/^"([^"\\]|\\.)*"/)
      if (dqMatch) {
        tokens.push({
          type: 'string',
          value: dqMatch[0],
          start: pos,
          end: pos + dqMatch[0].length
        })
        pos += dqMatch[0].length
        continue
      }
      
      // å­—ç¬¦ä¸²ï¼ˆå•å¼•å·ï¼‰
      const sqMatch = remaining.match(/^'([^'\\]|\\.)*'/)
      if (sqMatch) {
        tokens.push({
          type: 'string',
          value: sqMatch[0],
          start: pos,
          end: pos + sqMatch[0].length
        })
        pos += sqMatch[0].length
        continue
      }
      
      // æ¨¡æ¿å­—ç¬¦ä¸²
      const tmplMatch = remaining.match(/^`([^`\\]|\\.)*`/)
      if (tmplMatch) {
        tokens.push({
          type: 'string',
          value: tmplMatch[0],
          start: pos,
          end: pos + tmplMatch[0].length
        })
        pos += tmplMatch[0].length
        continue
      }
      
      // æ•°å­—
      const numMatch = remaining.match(/^\d+(\.\d+)?([eE][+-]?\d+)?/)
      if (numMatch) {
        tokens.push({
          type: 'number',
          value: numMatch[0],
          start: pos,
          end: pos + numMatch[0].length
        })
        pos += numMatch[0].length
        continue
      }
      
      // è£…é¥°å™¨
      const decoratorMatch = remaining.match(/^@\w+/)
      if (decoratorMatch) {
        tokens.push({
          type: 'decorator',
          value: decoratorMatch[0],
          start: pos,
          end: pos + decoratorMatch[0].length
        })
        pos += decoratorMatch[0].length
        continue
      }
      
      // æ ‡è¯†ç¬¦/å…³é”®å­—
      const idMatch = remaining.match(/^[a-zA-Z_$][\w$]*/)
      if (idMatch) {
        const word = idMatch[0]
        let type: TokenType = 'variable'
        
        if (SyntaxHighlighter.KEYWORDS.has(word)) {
          type = 'keyword'
        } else if (word.match(/^[A-Z]/)) {
          // é¦–å­—æ¯å¤§å†™è§†ä¸ºç±»åæˆ–ç±»å‹
          type = 'class'
        }
        
        // æ£€æŸ¥æ˜¯å¦æ˜¯å‡½æ•°è°ƒç”¨
        const afterId = line.slice(pos + word.length).trimStart()
        if (afterId.startsWith('(') && type === 'variable') {
          type = 'function'
        }
        
        tokens.push({
          type: type,
          value: word,
          start: pos,
          end: pos + word.length
        })
        pos += word.length
        continue
      }
      
      // æ“ä½œç¬¦å’Œæ ‡ç‚¹
      const opMatch = remaining.match(/^[+\-*/%=<>!&|^~?:;,.(){}[\]]/)
      if (opMatch) {
        tokens.push({
          type: 'punctuation',
          value: opMatch[0],
          start: pos,
          end: pos + opMatch[0].length
        })
        pos += opMatch[0].length
        continue
      }
      
      // å…¶ä»–å­—ç¬¦
      tokens.push({
        type: 'plain',
        value: line[pos],
        start: pos,
        end: pos + 1
      })
      pos++
    }
    
    return tokens
  }
  
  /**
   * æ ¹æ®æ–‡ä»¶æ‰©å±•åè·å–è¯­è¨€ç±»å‹
   */
  getLanguageFromExtension(ext: string): string {
    const extMap: Record<string, string> = {
      'ts': 'typescript',
      'ets': 'arkts',
      'js': 'javascript',
      'json': 'json',
      'md': 'markdown',
      'html': 'html',
      'css': 'css',
      'py': 'python',
      'java': 'java',
      'c': 'c',
      'cpp': 'cpp',
      'h': 'c',
    }
    return extMap[ext.toLowerCase()] || 'text'
  }
}
```

### 2. æ–‡ä»¶æœåŠ¡

```typescript
// services/FileService.ts

import { fileIo, picker } from '@kit.CoreFileKit'
import { common } from '@kit.AbilityKit'

export class FileService {
  private context: common.UIAbilityContext
  
  constructor(context: common.UIAbilityContext) {
    this.context = context
  }
  
  /**
   * æ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨
   */
  async openFile(): Promise<{ name: string, path: string, content: string }> {
    const documentPicker = new picker.DocumentViewPicker(this.context)
    
    const result = await documentPicker.select({
      maxSelectNumber: 1,
      fileSuffixFilters: ['.ts', '.ets', '.js', '.json', '.md', '.txt', '.html', '.css']
    })
    
    if (result.length === 0) {
      throw new Error('æœªé€‰æ‹©æ–‡ä»¶')
    }
    
    const uri = result[0]
    const file = await fileIo.open(uri, fileIo.OpenMode.READ_ONLY)
    const stat = await fileIo.stat(uri)
    const buffer = new ArrayBuffer(stat.size)
    await fileIo.read(file.fd, buffer)
    await fileIo.close(file.fd)
    
    const content = this.bufferToString(buffer)
    const name = uri.split('/').pop() || 'unknown'
    
    return { name, path: uri, content }
  }
  
  /**
   * ä¿å­˜æ–‡ä»¶
   */
  async saveFile(path: string, content: string): Promise<void> {
    const file = await fileIo.open(path, fileIo.OpenMode.WRITE_ONLY | fileIo.OpenMode.CREATE)
    const buffer = this.stringToBuffer(content)
    await fileIo.write(file.fd, buffer)
    await fileIo.close(file.fd)
  }
  
  /**
   * å¦å­˜ä¸º
   */
  async saveAsFile(content: string, defaultName: string): Promise<string> {
    const documentPicker = new picker.DocumentViewPicker(this.context)
    
    const result = await documentPicker.save({
      newFileNames: [defaultName]
    })
    
    if (result.length === 0) {
      throw new Error('æœªé€‰æ‹©ä¿å­˜ä½ç½®')
    }
    
    const path = result[0]
    await this.saveFile(path, content)
    return path
  }
  
  private bufferToString(buffer: ArrayBuffer): string {
    return new TextDecoder().decode(buffer)
  }
  
  private stringToBuffer(str: string): ArrayBuffer {
    return new TextEncoder().encode(str).buffer
  }
}
```

---

## ğŸ”„ çŠ¶æ€ç®¡ç†è®¾è®¡

ä½¿ç”¨ `@State`ã€`@Link`ã€`@Prop` å®ç°ç»„ä»¶é—´çŠ¶æ€ä¼ é€’ï¼š

```typescript
// ä¸»é¡µé¢çŠ¶æ€ç®¡ç†
@Entry
@Component
struct TabletCodeEditorPage {
  // æ–‡ä»¶ç³»ç»ŸçŠ¶æ€
  @State rootFolder: FileNode | null = null
  @State expandedFolders: Set<string> = new Set()
  @State selectedFile: FileNode | null = null
  
  // ç¼–è¾‘å™¨çŠ¶æ€
  @State tabs: EditorTab[] = []
  @State activeTabId: string | null = null
  @State currentContent: string = ''
  @State currentLanguage: string = 'typescript'
  
  // UI çŠ¶æ€
  @State sidebarVisible: boolean = true
  @State sidebarWidth: number = 280
  @State theme: 'light' | 'dark' = 'dark'
  
  // ç¼–è¾‘å™¨è®¾ç½®
  @State fontSize: number = 14
  @State tabSize: number = 2
  @State lineNumbers: boolean = true
  
  private fileService: FileService | null = null
  private syntaxHighlighter: SyntaxHighlighter = new SyntaxHighlighter()
  
  aboutToAppear() {
    const context = getContext(this) as common.UIAbilityContext
    this.fileService = new FileService(context)
  }
  
  build() {
    Column() {
      // é¡¶éƒ¨å·¥å…·æ 
      TopToolbar({
        projectName: this.rootFolder?.name || 'æœªå‘½åé¡¹ç›®',
        theme: this.theme,
        onMenuClick: () => { this.sidebarVisible = !this.sidebarVisible },
        onSaveClick: () => { this.handleSave() },
        onThemeToggle: () => { this.toggleTheme() },
        onSettingsClick: () => { this.showSettings() }
      })
      
      // ä¸»å†…å®¹åŒº
      Row() {
        // ä¾§è¾¹æ 
        if (this.sidebarVisible) {
          FileSidebar({
            rootFolder: $rootFolder,
            expandedFolders: $expandedFolders,
            selectedFile: $selectedFile,
            onFileSelect: (file) => this.openFileInTab(file),
            onFolderToggle: (folder) => this.toggleFolder(folder)
          })
          .width(this.sidebarWidth)
          .transition({ type: TransitionType.Insert, opacity: 1 })
          .transition({ type: TransitionType.Delete, opacity: 0 })
        }
        
        // ç¼–è¾‘å™¨é¢æ¿
        Column() {
          // æ ‡ç­¾æ 
          TabBar({
            tabs: $tabs,
            activeTabId: $activeTabId,
            onTabSelect: (id) => this.switchTab(id),
            onTabClose: (id) => this.closeTab(id),
            onNewTab: () => this.createNewTab()
          })
          
          // ä»£ç ç¼–è¾‘åŒº
          if (this.activeTabId) {
            CodeEditorView({
              content: $currentContent,
              language: this.currentLanguage,
              fontSize: this.fontSize,
              lineNumbers: this.lineNumbers
            })
            .layoutWeight(1)
          } else {
            // ç©ºçŠ¶æ€ - æ¬¢è¿ç•Œé¢
            WelcomeView({
              onOpenFile: () => this.handleOpenFile(),
              onOpenFolder: () => this.handleOpenFolder()
            })
            .layoutWeight(1)
          }
          
          // çŠ¶æ€æ 
          StatusBar({
            line: this.getCurrentLine(),
            column: this.getCurrentColumn(),
            language: this.currentLanguage,
            encoding: 'UTF-8',
            lineEnding: 'LF',
            isDirty: this.isCurrentTabDirty()
          })
        }
        .layoutWeight(1)
        .height('100%')
      }
      .layoutWeight(1)
      .width('100%')
    }
    .width('100%')
    .height('100%')
    .backgroundColor($r('app.color.background'))
  }
  
  // ... å®ç°å„ç§å¤„ç†æ–¹æ³•
}
```

---

## âŒ¨ï¸ äº¤äº’è®¾è®¡

### æ‰‹åŠ¿æ“ä½œ

| æ“ä½œ | è§¦å‘æ–¹å¼ | å“åº” |
|------|---------|------|
| é€‰æ‹©æ–‡ä»¶/æ ‡ç­¾ | å•å‡» | åˆ‡æ¢å½“å‰ç¼–è¾‘çš„æ–‡ä»¶ |
| å±•å¼€/æŠ˜å æ–‡ä»¶å¤¹ | å•å‡»æ–‡ä»¶å¤¹ | åˆ‡æ¢å±•å¼€çŠ¶æ€ |
| å³é”®èœå• | é•¿æŒ‰ï¼ˆå¹³æ¿ï¼‰/ å³é”® | æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå• |
| å…³é—­æ ‡ç­¾ | ç‚¹å‡»æ ‡ç­¾X / ä¸­é”®ç‚¹å‡» | å…³é—­å½“å‰æ ‡ç­¾ |
| æ»šåŠ¨ä»£ç  | åŒæŒ‡æ»‘åŠ¨ | å‚ç›´æ»šåŠ¨ä»£ç åŒº |
| è°ƒæ•´ä¾§è¾¹æ å®½åº¦ | æ‹–æ‹½åˆ†å‰²çº¿ | æ”¹å˜ä¾§è¾¹æ å®½åº¦ |

### å¿«æ·é”®æ”¯æŒï¼ˆå¤–æ¥é”®ç›˜ï¼‰

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| Ctrl + S | ä¿å­˜å½“å‰æ–‡ä»¶ |
| Ctrl + O | æ‰“å¼€æ–‡ä»¶ |
| Ctrl + W | å…³é—­å½“å‰æ ‡ç­¾ |
| Ctrl + Tab | åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾ |
| Ctrl + Shift + Tab | åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾ |
| Ctrl + + | å¢å¤§å­—å· |
| Ctrl + - | å‡å°å­—å· |
| Ctrl + 0 | é‡ç½®å­—å· |

---

## ğŸ“± å“åº”å¼é€‚é…

```typescript
import { mediaquery } from '@kit.ArkUI'

@Entry
@Component
struct TabletCodeEditorPage {
  @State isLargeScreen: boolean = true
  @State sidebarWidth: number = 280
  
  private mdListener = mediaquery.matchMediaSync('(min-width: 600vp)')
  private lgListener = mediaquery.matchMediaSync('(min-width: 840vp)')
  private xlListener = mediaquery.matchMediaSync('(min-width: 1200vp)')
  
  aboutToAppear() {
    this.mdListener.on('change', (result) => {
      if (!result.matches) {
        // å°å±å¹•ï¼šéšè—ä¾§è¾¹æ 
        this.sidebarVisible = false
        this.sidebarWidth = 0
      }
    })
    
    this.lgListener.on('change', (result) => {
      if (result.matches) {
        // å¤§å±å¹•ï¼šæ˜¾ç¤ºä¾§è¾¹æ 
        this.sidebarVisible = true
        this.sidebarWidth = 280
      }
    })
    
    this.xlListener.on('change', (result) => {
      if (result.matches) {
        // è¶…å¤§å±å¹•ï¼šåŠ å®½ä¾§è¾¹æ 
        this.sidebarWidth = 320
      }
    })
  }
}
```

---

## ğŸ¯ è®¾è®¡æ€»ç»“

æœ¬è®¾è®¡æ–¹æ¡ˆçš„æ ¸å¿ƒç‰¹ç‚¹ï¼š

1. **æ¨¡å—åŒ–ç»„ä»¶è®¾è®¡**ï¼šå°†ç¼–è¾‘å™¨æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å¯å¤ç”¨ç»„ä»¶
2. **å®Œæ•´çš„è¯­æ³•é«˜äº®**ï¼šæ”¯æŒ ArkTS/TypeScript ç­‰è¯­è¨€çš„å…³é”®å­—ã€å­—ç¬¦ä¸²ã€æ³¨é‡Šç­‰é«˜äº®
3. **ç±» VS Code äº¤äº’**ï¼šå·¦ä¾§æ–‡ä»¶æ ‘ + å³ä¾§ç¼–è¾‘å™¨çš„ç»å…¸å¸ƒå±€
4. **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…å¹³æ¿æ¨ªç«–å±åŠä¸åŒå°ºå¯¸è®¾å¤‡
5. **ä¸»é¢˜æ”¯æŒ**ï¼šå†…ç½®æµ…è‰²/æ·±è‰²ä¸»é¢˜åˆ‡æ¢
6. **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨é¸¿è’™è£…é¥°å™¨è¿›è¡Œé«˜æ•ˆçš„çŠ¶æ€åŒæ­¥

### æ¨èæ–‡ä»¶ç»“æ„

```
entry/src/main/ets/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ TabletCodeEditor.ets       # ä¸»é¡µé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ editor/
â”‚   â”‚   â”œâ”€â”€ TopToolbar.ets         # é¡¶éƒ¨å·¥å…·æ 
â”‚   â”‚   â”œâ”€â”€ FileSidebar.ets        # æ–‡ä»¶ä¾§è¾¹æ 
â”‚   â”‚   â”œâ”€â”€ FileTreeNode.ets       # æ–‡ä»¶æ ‘èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ TabBar.ets             # æ ‡ç­¾æ 
â”‚   â”‚   â”œâ”€â”€ EditorTabItem.ets      # æ ‡ç­¾é¡¹
â”‚   â”‚   â”œâ”€â”€ CodeEditorView.ets     # ä»£ç ç¼–è¾‘è§†å›¾
â”‚   â”‚   â”œâ”€â”€ StatusBar.ets          # çŠ¶æ€æ 
â”‚   â”‚   â””â”€â”€ WelcomeView.ets        # æ¬¢è¿ç•Œé¢
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ IconButton.ets         # å›¾æ ‡æŒ‰é’®
â”‚       â””â”€â”€ ContextMenu.ets        # ä¸Šä¸‹æ–‡èœå•
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ SyntaxHighlighter.ts       # è¯­æ³•é«˜äº®æœåŠ¡
â”‚   â”œâ”€â”€ FileService.ts             # æ–‡ä»¶æ“ä½œæœåŠ¡
â”‚   â””â”€â”€ ThemeService.ts            # ä¸»é¢˜æœåŠ¡
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ FileNode.ts                # æ–‡ä»¶èŠ‚ç‚¹æ¨¡å‹
â”‚   â””â”€â”€ EditorTab.ts               # ç¼–è¾‘å™¨æ ‡ç­¾æ¨¡å‹
â””â”€â”€ theme/
    â”œâ”€â”€ LightTheme.ts              # æµ…è‰²ä¸»é¢˜
    â””â”€â”€ DarkTheme.ts               # æ·±è‰²ä¸»é¢˜
```

---

å¦‚éœ€è¦ï¼Œæˆ‘å¯ä»¥ç»§ç»­å®ç°å…·ä½“çš„ä»£ç æ–‡ä»¶ã€‚
